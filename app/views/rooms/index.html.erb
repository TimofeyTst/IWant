<div class="container" id="chatroom_container">
    <div id="user_container">
        <div class="current_user">
            <%= render 'search/avatar', user: current_user %>
            <div class="name"><%= current_user.username.capitalize %> chats</div>
        </div>
        <%= turbo_stream_from "users" %>
        <div id="users">
            <%= render @users %>
        </div>
    </div>
    <div id="room_container">
        <h4>Rooms</h4>
        <%= render 'rooms/room_form' %>
        <%= turbo_stream_from "rooms" %>
        <div id="rooms">
            <%= render @rooms %>
        </div>
    </div>
    <div id="chat_container">
        <% if @single_room %>
            <div id="single_room">
                <h1><%= @user&.username || @single_room.name %></h1>
                <%= turbo_stream_from @single_room %>
                <div id="messages">
                    <%= render @messages %>
                </div>
                <%= render 'rooms/message_form' %>
            </div>
        <% end %>
    </div>
</div>
